{
  "capabilities": [],
  "components": [
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 0,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.4.12",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 1,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 2,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 3,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 4,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 5,
      "operations": [],
      "profiles": {
        "default": "stateless",
        "supported": [
          "stateless"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.4.12",
      "world": "greentic:component/component@0.5.0"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 6,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.4.12",
      "world": "greentic:messaging-ingress-slack/messaging-ingress-slack@0.0.1"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 7,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.4.12",
      "world": "greentic:provider/schema-core@1.0.0"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 8,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 9,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 10,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 11,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 12,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 13,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 14,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 15,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 16,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 17,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 18,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 19,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    },
    {
      "capabilities": {
        "host": {},
        "wasi": {
          "clocks": false,
          "random": false
        }
      },
      "config_schema": null,
      "configurators": null,
      "dev_flows": {},
      "id": 20,
      "operations": [],
      "profiles": {
        "default": "default",
        "supported": [
          "default"
        ]
      },
      "resources": {},
      "supports": [
        "messaging"
      ],
      "version": "0.1.0",
      "world": "root:component/root"
    }
  ],
  "dependencies": [],
  "extensions": {
    "greentic.pack.component_manifests@v1": {
      "inline": {
        "entries": [
          {
            "component_id": "ai.greentic.component-templates",
            "content_hash": "sha256:7d9c628c0624c3e0ab5d51ac155b3c9d982c4784ea3c309f124bf59a01fa13fe",
            "encoding": "cbor",
            "manifest_file": "components/ai.greentic.component-templates.manifest.cbor"
          },
          {
            "component_id": "diagnostics__auth_test",
            "content_hash": "sha256:7ffa84c86072719a44dbed48695bab6d3a45d1c716053c760026cf86f39127fb",
            "encoding": "cbor",
            "manifest_file": "components/diagnostics__auth_test.manifest.cbor"
          },
          {
            "component_id": "diagnostics__optional_send",
            "content_hash": "sha256:1afc73072fad1b16624772981274edb60a3716a018a4fe150afe48374374d754",
            "encoding": "cbor",
            "manifest_file": "components/diagnostics__optional_send.manifest.cbor"
          },
          {
            "component_id": "diagnostics__preflight",
            "content_hash": "sha256:84e2516c4a82e1d6198c94b735901643a48143e3189c1be4d2f0dec07a443659",
            "encoding": "cbor",
            "manifest_file": "components/diagnostics__preflight.manifest.cbor"
          },
          {
            "component_id": "diagnostics__summary",
            "content_hash": "sha256:aa20b2535172a18ba505d2f4c7c631e56609693cf9ffd68038b8ec0f900d0adf",
            "encoding": "cbor",
            "manifest_file": "components/diagnostics__summary.manifest.cbor"
          },
          {
            "component_id": "handlebars",
            "content_hash": "sha256:73224d732afba632cea99988bdc33c8afd985db9eb544d19e52b56b26ff3d68c",
            "encoding": "cbor",
            "manifest_file": "components/handlebars.manifest.cbor"
          },
          {
            "component_id": "messaging-ingress-slack",
            "content_hash": "sha256:da9b8a5f41f89c7e6913809f5568bd51ea7019fe9610c3c7ab0f998d053c226f",
            "encoding": "cbor",
            "manifest_file": "components/messaging-ingress-slack.manifest.cbor"
          },
          {
            "component_id": "messaging-provider-slack",
            "content_hash": "sha256:c27a3fea90cff246b6a97562a24f7c5c49054f15e08f5c49b41166d14669f728",
            "encoding": "cbor",
            "manifest_file": "components/messaging-provider-slack.manifest.cbor"
          },
          {
            "component_id": "rotate_credentials__apply",
            "content_hash": "sha256:4e8526e1e72293abae158a0ef937e6c367d8ef39a6c3fc7d180d969f1362816c",
            "encoding": "cbor",
            "manifest_file": "components/rotate_credentials__apply.manifest.cbor"
          },
          {
            "component_id": "rotate_credentials__collect",
            "content_hash": "sha256:ae1f131497cdcbb2706c8f18f39aa270b0d950984feaf8be8cc66d98a5cb48d0",
            "encoding": "cbor",
            "manifest_file": "components/rotate_credentials__collect.manifest.cbor"
          },
          {
            "component_id": "rotate_credentials__summary",
            "content_hash": "sha256:152408cc29aeb2abf8cb284adbc422f59b3bb3717cd8369476277816c4c3feea",
            "encoding": "cbor",
            "manifest_file": "components/rotate_credentials__summary.manifest.cbor"
          },
          {
            "component_id": "rotate_credentials__validate",
            "content_hash": "sha256:573b7fa96c8bafdbdfc9e38f9ffada2ba6b692da17d1713ae4d70bb7d74f10db",
            "encoding": "cbor",
            "manifest_file": "components/rotate_credentials__validate.manifest.cbor"
          },
          {
            "component_id": "setup_custom__apply",
            "content_hash": "sha256:ec7cb9b659d451c7b32fc9ce4073cce6d7eda1f7502d9f75566677637af451a4",
            "encoding": "cbor",
            "manifest_file": "components/setup_custom__apply.manifest.cbor"
          },
          {
            "component_id": "setup_custom__collect_inputs",
            "content_hash": "sha256:513baddfb9d99d5be3d7c6aee053e4bb5d867a9a1dd596a738c93a5dee24b1cf",
            "encoding": "cbor",
            "manifest_file": "components/setup_custom__collect_inputs.manifest.cbor"
          },
          {
            "component_id": "setup_custom__summary",
            "content_hash": "sha256:d53f8493c83ff21c1fdd464fdae44ed872d4ff2d18a19a694a7ada550b5d0b75",
            "encoding": "cbor",
            "manifest_file": "components/setup_custom__summary.manifest.cbor"
          },
          {
            "component_id": "setup_custom__validate",
            "content_hash": "sha256:d10592ddc9903a71aa5f995b2bbb46c087b93e1999ef103c2734a4c6b36c9a61",
            "encoding": "cbor",
            "manifest_file": "components/setup_custom__validate.manifest.cbor"
          },
          {
            "component_id": "setup_default__apply_config",
            "content_hash": "sha256:3ac91afa05f0c0bcad08a217f08d79d0e1c1abebe4371edb42e7d80a48a37990",
            "encoding": "cbor",
            "manifest_file": "components/setup_default__apply_config.manifest.cbor"
          },
          {
            "component_id": "setup_default__collect_inputs",
            "content_hash": "sha256:aacbeeb2f7b0caa2786d3c66037aa2a56774144cb143d602235325734296a445",
            "encoding": "cbor",
            "manifest_file": "components/setup_default__collect_inputs.manifest.cbor"
          },
          {
            "component_id": "setup_default__summary",
            "content_hash": "sha256:bef98bffc91f6fcf528c2544428d8e6319911330fbc2d434eefe8db9624e0714",
            "encoding": "cbor",
            "manifest_file": "components/setup_default__summary.manifest.cbor"
          },
          {
            "component_id": "setup_default__validate_token",
            "content_hash": "sha256:7cab3fe1a8702204a2e5af082697d3db52cffdf329250286534c909d96d7eadd",
            "encoding": "cbor",
            "manifest_file": "components/setup_default__validate_token.manifest.cbor"
          },
          {
            "component_id": "verify_webhooks__describe",
            "content_hash": "sha256:1a2be3a70bc1ad49e4566ff07059dbd33fbeba7f12b64339bb838e91e1e3cfc1",
            "encoding": "cbor",
            "manifest_file": "components/verify_webhooks__describe.manifest.cbor"
          }
        ],
        "schema_version": 1
      },
      "kind": "greentic.pack.component_manifests@v1",
      "version": "v1"
    },
    "greentic.pack.component_sources@v1": {
      "inline": {
        "components": [
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/diagnostics___auth_test.wasm"
              }
            },
            "name": "diagnostics___auth_test",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/diagnostics___optional_send.wasm"
              }
            },
            "name": "diagnostics___optional_send",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/diagnostics___preflight.wasm"
              }
            },
            "name": "diagnostics___preflight",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/diagnostics___summary.wasm"
              }
            },
            "name": "diagnostics___summary",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/requirements___summary.wasm"
              }
            },
            "name": "requirements___summary",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/rotate_credentials___apply.wasm"
              }
            },
            "name": "rotate_credentials___apply",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/rotate_credentials___collect.wasm"
              }
            },
            "name": "rotate_credentials___collect",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/rotate_credentials___summary.wasm"
              }
            },
            "name": "rotate_credentials___summary",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/rotate_credentials___validate.wasm"
              }
            },
            "name": "rotate_credentials___validate",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_custom___apply.wasm"
              }
            },
            "name": "setup_custom___apply",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_custom___collect_inputs.wasm"
              }
            },
            "name": "setup_custom___collect_inputs",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_custom___summary.wasm"
              }
            },
            "name": "setup_custom___summary",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_custom___validate.wasm"
              }
            },
            "name": "setup_custom___validate",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_default___apply_config.wasm"
              }
            },
            "name": "setup_default___apply_config",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_default___collect_inputs.wasm"
              }
            },
            "name": "setup_default___collect_inputs",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_default___summary.wasm"
              }
            },
            "name": "setup_default___summary",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/setup_default___validate_token.wasm"
              }
            },
            "name": "setup_default___validate_token",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          },
          {
            "artifact": {
              "inline": {
                "wasm_path": "components/verify_webhooks___describe.wasm"
              }
            },
            "name": "verify_webhooks___describe",
            "resolved": {
              "digest": "sha256:5ec85da53ba2087a2990ffe996ee27702cab8123eed368f842907d112e643d00"
            },
            "source": "oci://ghcr.io/greentic-ai/components/templates:latest"
          }
        ],
        "schema_version": 1
      },
      "kind": "greentic.pack.component_sources@v1",
      "version": "v1"
    },
    "greentic.provider-extension.v1": {
      "inline": {
        "providers": [
          {
            "capabilities": [
              "messaging"
            ],
            "config_schema_ref": "schemas/messaging/slack/public.config.schema.json",
            "docs_ref": "",
            "ops": [
              "send",
              "reply"
            ],
            "provider_type": "messaging.slack.api",
            "runtime": {
              "component_ref": "messaging-provider-slack",
              "export": "schema-core-api",
              "world": "greentic:provider/schema-core@1.0.0"
            },
            "state_schema_ref": ""
          }
        ]
      },
      "kind": "greentic.provider-extension.v1",
      "version": "0.4.12"
    },
    "messaging.oauth.v1": {
      "inline": {
        "auth_type": "oauth2",
        "authorize_url": "https://slack.com/oauth/v2/authorize",
        "provider_id": "slack",
        "redirect_path": "/oauth/callback/slack",
        "scopes": [
          "chat:write",
          "channels:read",
          "channels:history"
        ],
        "secret_keys": [
          "SLACK_BOT_TOKEN"
        ],
        "token_url": "https://slack.com/api/oauth.v2.access"
      },
      "kind": "messaging.oauth.v1",
      "version": "0.4.12"
    },
    "messaging.provider_flow_hints": {
      "inline": {
        "messaging.slack.api": {
          "diagnostics": "diagnostics",
          "rotate_credentials": "rotate_credentials",
          "setup_custom": "setup_custom",
          "setup_default": "setup_default",
          "verify_webhooks": "verify_webhooks"
        }
      },
      "kind": "messaging.provider_flow_hints",
      "version": "0.4.12"
    },
    "messaging.provider_ingress.v1": {
      "inline": {
        "capabilities": {
          "content_types": [
            "application/json"
          ],
          "supports_webhook_validation": true
        },
        "component_ref": "messaging-ingress-slack",
        "export": "handle-webhook",
        "world": "greentic:messaging-ingress-slack/messaging-ingress-slack@0.0.1"
      },
      "kind": "messaging.provider_ingress.v1",
      "version": "0.4.12"
    }
  },
  "flows": [
    {
      "entrypoints": [
        "diagnostics"
      ],
      "flow": {
        "entrypoints": {
          "default": "preflight"
        },
        "id": "diagnostics",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 7,
            "input": {
              "mapping": {
                "text": "Checks performed:\n- Ensure SLACK_BOT_TOKEN (and optional SLACK_SIGNING_SECRET) exist in greentic-secrets.\n- Confirm config.default_channel/team_id available.\n- If payload.verify_webhook true, check webhook subscription reachability (events endpoint responds 200).\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 2
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 2,
            "input": {
              "mapping": {
                "text": "Call Slack auth.test with stored bot token to verify scopes and workspace.\nIf default_channel is set, call conversations.info and conversations.history (limit 1) to ensure access.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 6
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 6,
            "input": {
              "mapping": {
                "text": "If payload.send_test_message is true, post a test message to default_channel (or payload.target) with a diagnostics marker.\nIf false, skip send but report readiness.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 8
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 8,
            "input": {
              "mapping": {
                "text": "Diagnostics complete. Token valid, channel reachable. Webhook status {{#if payload.verify_webhook}}checked{{else}}not requested{{/if}}.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "diagnostics",
      "kind": "job",
      "tags": [
        "default"
      ]
    },
    {
      "entrypoints": [
        "requirements"
      ],
      "flow": {
        "entrypoints": {
          "default": "summary"
        },
        "id": "requirements",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 8,
            "input": {
              "mapping": {
                "text": "Provider: messaging.slack.api\nConfig schema: schemas/messaging/slack/public.config.schema.json\n\nSecrets:\n- SLACK_BOT_TOKEN (tenant): Slack bot token used for chat.postMessage calls.\n- SLACK_SIGNING_SECRET (tenant): Slack signing secret (optional for future webhook validation).\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "requirements",
      "kind": "job",
      "tags": [
        "default"
      ]
    },
    {
      "entrypoints": [
        "maintenance"
      ],
      "flow": {
        "entrypoints": {
          "default": "collect"
        },
        "id": "rotate_credentials",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 3,
            "input": {
              "mapping": {
                "text": "Payload fields:\n- new_bot_token (required)\n- new_signing_secret (optional)\n- test_channel (optional)\nFlow overwrites existing secrets; safe to re-run.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 9
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 9,
            "input": {
              "mapping": {
                "text": "- Run auth.test with new_bot_token.\n- If test_channel provided, ensure bot can post.\n- If new_signing_secret provided, verify signature HMAC.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 0
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 0,
            "input": {
              "mapping": {
                "text": "- Update secrets SLACK_BOT_TOKEN / SLACK_SIGNING_SECRET atomically.\n- Store rotation timestamp and previous token fingerprint for audit (if host supports).\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 8
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 8,
            "input": {
              "mapping": {
                "text": "Rotation complete; rerun diagnostics to verify end-to-end."
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "rotate_credentials",
      "kind": "job",
      "tags": [
        "maintenance"
      ]
    },
    {
      "entrypoints": [
        "setup"
      ],
      "flow": {
        "entrypoints": {
          "default": "collect_inputs"
        },
        "id": "setup_custom",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 4,
            "input": {
              "mapping": {
                "text": "Interactive prompts should collect:\n- bot_token (required) and signing_secret (optional)\n- inbound_mode: events_api | socket_mode (default events_api)\n- events: minimal set (message.channels, app_mention, reaction_added) unless overridden\n- default_channel / fallback DM target\n- formatting defaults (link_names, unfurl settings)\n- test_message (bool)\n\nPayload example:\n{\n  \"bot_token\": \"xoxb-...\",\n  \"signing_secret\": \"...\",\n  \"inbound_mode\": \"events_api\",\n  \"events\": [\"message.channels\", \"app_mention\"],\n  \"default_channel\": \"#alerts\",\n  \"test_message\": true\n}\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 9
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 9,
            "input": {
              "mapping": {
                "text": "- Run auth.test to confirm token and workspace.\n- Verify conversations.join/postability for default_channel if provided.\n- For events_api: ensure request URL is known; if host provided, register event subscriptions.\n- For socket_mode: confirm app-level token present if needed.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 0
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 0,
            "input": {
              "mapping": {
                "text": "- Write secrets (SLACK_BOT_TOKEN, SLACK_SIGNING_SECRET, SOCKET_APP_TOKEN if applicable) via greentic-secrets.\n- Persist config: inbound_mode, events list, default_channel, team_id, formatting prefs, webhook URL if used.\n- Mark config version/last_applied for idempotent re-runs.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 8
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 8,
            "input": {
              "mapping": {
                "text": "Slack setup_custom applied with inbound mode {{payload.inbound_mode}}. Rerun anytime to update subscriptions or defaults.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "setup_custom",
      "kind": "job",
      "tags": [
        "default"
      ]
    },
    {
      "entrypoints": [
        "setup"
      ],
      "flow": {
        "entrypoints": {
          "default": "collect_inputs"
        },
        "id": "setup_default",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 4,
            "input": {
              "mapping": {
                "text": "Interactive wizard should prompt for:\n- bot_token (required)\n- signing_secret (optional, recommended for inbound)\n- default_channel (optional)\n- team_id/workspace_hint (optional)\n\nNon-interactive payload example:\n{\n  \"bot_token\": \"xoxb-...\",\n  \"signing_secret\": \"...\",\n  \"default_channel\": \"#general\",\n  \"team_id\": \"T123\",\n  \"test_message\": false\n}\n\nIdempotent behavior: re-running overwrites stored secrets/config for the same tenant.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 10
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 10,
            "input": {
              "mapping": {
                "text": "Validation steps:\n- Call Slack auth.test with the provided bot_token to verify scopes and workspace.\n- If signing_secret is provided, verify HMAC against a sample payload to ensure format is correct.\n- If default_channel is set, call conversations.info to ensure the bot can post there.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 1
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 1,
            "input": {
              "mapping": {
                "text": "Apply configuration using greentic-secrets/greentic-config:\n- secrets: SLACK_BOT_TOKEN, SLACK_SIGNING_SECRET (optional)\n- config: default_channel, team_id, inbound_mode (defaults to events), webhook request URL if host supplies one\nEnsure secrets are written idempotently (overwrite existing keys) and mark config version/last_applied.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": {
              "Next": {
                "node_id": 8
              }
            },
            "telemetry": {
              "attributes": {}
            }
          },
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 8,
            "input": {
              "mapping": {
                "text": "Slack setup_default complete. Stored bot token and defaults. Next: run diagnostics to validate channel posting and webhook status.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "setup_default",
      "kind": "job",
      "tags": [
        "default"
      ]
    },
    {
      "entrypoints": [
        "diagnostics"
      ],
      "flow": {
        "entrypoints": {
          "default": "describe"
        },
        "id": "verify_webhooks",
        "kind": "job",
        "metadata": {
          "extra": {},
          "tags": []
        },
        "nodes": [
          {
            "component": {
              "id": 0,
              "operation": "handlebars",
              "pack_alias": null
            },
            "id": 5,
            "input": {
              "mapping": {
                "text": "Steps:\n- Fetch current event subscriptions from Slack API.\n- Ensure request_url matches the host-provided ingress endpoint.\n- Send a challenge (or expect Slack's challenge) and verify signature using signing secret.\n- Mark verification timestamp in config for idempotent runs.\n"
              }
            },
            "output": {
              "mapping": {}
            },
            "routing": "End",
            "telemetry": {
              "attributes": {}
            }
          }
        ],
        "schema_version": "flow-v1"
      },
      "id": "verify_webhooks",
      "kind": "job",
      "tags": [
        "default"
      ]
    }
  ],
  "kind": "application",
  "pack_id": 0,
  "publisher": "Greentic",
  "schema_version": "pack-v1",
  "signatures": {
    "signatures": []
  },
  "symbols": {
    "capability_names": [],
    "component_ids": [
      "ai.greentic.component-templates",
      "diagnostics__auth_test",
      "diagnostics__optional_send",
      "diagnostics__preflight",
      "diagnostics__summary",
      "handlebars",
      "messaging-ingress-slack",
      "messaging-provider-slack",
      "rotate_credentials__apply",
      "rotate_credentials__collect",
      "rotate_credentials__summary",
      "rotate_credentials__validate",
      "setup_custom__apply",
      "setup_custom__collect_inputs",
      "setup_custom__summary",
      "setup_custom__validate",
      "setup_default__apply_config",
      "setup_default__collect_inputs",
      "setup_default__summary",
      "setup_default__validate_token",
      "verify_webhooks__describe"
    ],
    "node_ids": [
      "apply",
      "apply_config",
      "auth_test",
      "collect",
      "collect_inputs",
      "describe",
      "optional_send",
      "preflight",
      "summary",
      "validate",
      "validate_token"
    ],
    "pack_ids": [
      "messaging-slack"
    ]
  },
  "version": "0.4.13"
}
